<!DOCTYPE html>
<html>
    <head>
        <meta charset = "utf-8">
        <Title>Rock-Paper-Scissors</Title>
        <link rel ="stylesheet" href = "style.css">
    </head>

    <body>
        <!--Makes the physical buttons on the webpage-->
<span class = "title"> Welcome to Rock paper scissors!</span>
        <div class = "main">
            <button id="rock">Rock</button>
            <button id = "paper">Paper</button>
            <button id = "scissors">Scissors</button>
        </div>
    </body>




    <script>
   
        //Function to get computer choice goes here//
        
        function getComputerChoice(){
            choices =["rock", "paper", "scissors"]
            item = choices[Math.floor(Math.random()*choices.length)];
            return(item)
        }
       

        // checks to see if score is already displayed, if not create div and add it, otherwise update div
        function displayScore(){
            check = document.getElementById('#scoredisplay')
            check2 = document.getElementById('#computerscore')
            if(check){
                check.textContent = "Score is " + playerscore
                check2.textContent = "Computer score is " + computerscore

            }
            

        else{ document.createElement('div');
        const scoredisplay = document.createElement('div');
        scoredisplay.setAttribute('id','#scoredisplay')
        scoredisplay.textContent = "Score is " + playerscore
        document.createElement('div');
        const compscoredisplay = document.createElement('div'); 
        compscoredisplay.setAttribute('id','#computerscore')
        compscoredisplay.textContent = "Computer score  is " + computerscore
        body.append(scoredisplay)
        body.append(compscoredisplay)
        }
        }
         function checkScore(){
            if(playerscore == 5){
                const victory = document.createElement('div');
                victory.setAttribute('id','#victory')
                victory.textContent = "You've won!"
                body.append(victory)
            }
            if(computerscore ==5){
                const victory = document.createElement('div');
                victory.setAttribute('id','#victory')
                victory.textContent = "The computer has won!"
                body.append(victory)


            }
         }

         function addPlayerScore(){
         playerscore = playerscore+1;
         return(playerscore)
         }
         function addComputerScore(){
         computerscore = computerscore +1
         return(computerscore)
         }


         function addDiv(text){
            const check = document.getElementById('#newdiv')
            if (!check){
            const newDiv = document.createElement('div')
            newDiv.setAttribute('id', '#newdiv')
            newDiv.textContent = text
            body.append(newDiv)
         }
         else{
            check.textContent = text
         }
        }
        function playRound(computerSelection, playerSelection){
            

            if (playerSelection === computerSelection){
                addDiv("Its a tie round")
                    
                
            }
            else if(playerSelection == 'rock' & computerSelection == 'paper'){
                addDiv("Computer wins this round")
                addComputerScore()
                
                
            }
            else if(playerSelection == 'rock' & computerSelection == 'scissors'){
                addDiv("You won this round")
                addPlayerScore()
                
            }
            else if(playerSelection == 'paper' & computerSelection == 'rock'){
                addDiv("You won this round")
                addPlayerScore()
            }
            else if(playerSelection == 'paper' & computerSelection == 'scissors'){
                addDiv("Computer won this round")
                addComputerScore()
            }
                
            else if(playerSelection == 'scissors' & computerSelection == 'rock'){
                addDiv("Computer won this round")
                addComputerScore()
                
            }
            else if(playerSelection == 'scissors' & computerSelection == 'paper'){
                addDiv("You won this")
                addPlayerScore()
                
            } 
        }


        

    
    let playerscore = 0
    let computerscore = 0
       
    const body = document.body

    let playerChoice = ' ';
    let item = ' ';




    const rockbtn = document.querySelector('#rock');
    const scissorsbtn = document.querySelector('#scissors');
    const paperbtn =document.querySelector('#paper');
    const compbtn = document.querySelector('#computer');

    rockbtn.addEventListener('click',() =>{
        const check = document.getElementById('#div1')
        if(check){
            playerChoice = 'rock'
// put computer choice function and playround function in the button.  Reports to the console outcome of game, now just need to append divs for each function
            getComputerChoice()
            check.textContent = "You chose rock and the computer has chosen" + " " +item
            playRound(item, playerChoice);     
            displayScore()
            checkScore()
        }
        else{
        const div = document.createElement('div');
        div.setAttribute('style','color:blue;');
        div.setAttribute('id','#div1')
        body.append(div);
        console.log("Made it!")
        playerChoice = 'rock'
        getComputerChoice()
        div.textContent = "You chose rock and the computer has chosen" + " " +item
        playRound(item, playerChoice);
        displayScore()
        checkScore()
        }
    });

    paperbtn.addEventListener('click', ()=>{
        const check = document.getElementById('#div1')
        if(check){
            getComputerChoice()
            check.textContent = "You chose paper and  the computer has chosen" + " " +item
            playerChoice = 'paper'
// put computer choice function and playround function in the button.  Reports to the console outcome of game, now just need to append divs for each function
            playRound(item, playerChoice);     
            displayScore()
            checkScore()
        }
        else{
        const div = document.createElement('div');
        div.setAttribute('style','color:blue;');
        div.setAttribute('id','#div1')
        body.append(div);
        console.log("Made it!")
        playerChoice = 'paper'
        getComputerChoice();
        div.textContent ="You chose paper and the computer has chosen" + " " +item
        playRound(item, playerChoice);
        displayScore()
        checkScore()
        }
    });


    scissorsbtn.addEventListener('click', ()=>{
        const check = document.getElementById('#div1')
        if(check){
            getComputerChoice()
            check.textContent = "you picked scissors and the computer picked" + " " + item
            playerChoice = 'scissors'
// put computer choice function and playround function in the button.  Reports to the console outcome of game, now just need to append divs for each function
            playRound(item, playerChoice);     
            displayScore()
            checkScore()
        }
        else{
        const div = document.createElement('div');
        div.setAttribute('style','color:blue;');
        div.setAttribute('id','#div1')
        body.append(div);
        console.log("Made it!")
        playerChoice = 'scissors'
        getComputerChoice();
        div.textContent = "you picked scissors and the computer has picked" + " " + item
        playRound(item, playerChoice);
        displayScore()
        checkScore()
        }
    })

    
    </script>
    <!--The scripts for javascript go here-->


</html>